{"ast":null,"code":"var _jsxFileName = \"/Users/subhashpatel/vote/voting-system-1/src/components/ActiveSessions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ActiveSessions = ({\n  contract,\n  account,\n  sessions,\n  loading,\n  onVoteSuccess\n}) => {\n  _s();\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionCandidates, setSessionCandidates] = useState([]);\n  const [voting, setVoting] = useState(false);\n  const [autoStarting, setAutoStarting] = useState(false);\n  const [error, setError] = useState('');\n\n  // Auto-start sessions that should be active\n  useEffect(() => {\n    autoStartEligibleSessions();\n  }, [sessions, contract]);\n  const autoStartEligibleSessions = async () => {\n    if (!contract || autoStarting) return;\n    try {\n      const now = new Date();\n      const sessionsToStart = sessions.filter(session => {\n        // Session should auto-start if:\n        // 1. Current time >= start time\n        // 2. Current time <= end time  \n        // 3. Session is not active yet\n        return now >= session.startTime && now <= session.endTime && !session.isActive;\n      });\n      if (sessionsToStart.length > 0) {\n        setAutoStarting(true);\n        console.log(`Auto-starting ${sessionsToStart.length} eligible sessions...`);\n        for (const session of sessionsToStart) {\n          try {\n            console.log(`Auto-starting session: ${session.name}`);\n            const transaction = await contract.startSession(session.id);\n            await transaction.wait();\n            console.log(`Successfully auto-started session: ${session.name}`);\n          } catch (error) {\n            console.error(`Failed to auto-start session ${session.name}:`, error);\n            // Continue with other sessions even if one fails\n          }\n        }\n\n        // Refresh sessions after auto-starting\n        onVoteSuccess();\n        setAutoStarting(false);\n      }\n    } catch (error) {\n      console.error('Error in auto-start process:', error);\n      setAutoStarting(false);\n    }\n  };\n\n  // ‚úÖ FIXED: Filter only truly active sessions (not expired, within time range)\n  const now = new Date();\n  const filteredSessions = sessions.filter(session => {\n    return session.isActive && now >= session.startTime && now <= session.endTime;\n  });\n  const loadSessionCandidates = async sessionId => {\n    try {\n      const candidates = await contract.getSessionCandidates(sessionId);\n      setSessionCandidates(candidates.map(c => ({\n        id: c.id.toString(),\n        name: c.name,\n        voteCount: c.voteCount.toString(),\n        isActive: c.isActive\n      })));\n    } catch (error) {\n      console.error('Error loading candidates:', error);\n      setSessionCandidates([]);\n      setError('Failed to load candidates');\n    }\n  };\n  const selectSession = async session => {\n    // ‚úÖ FIXED: Check if session is still valid before allowing selection\n    const now = new Date();\n    if (now > session.endTime) {\n      setError('This session has expired and is no longer accepting votes.');\n      return;\n    }\n    setSelectedSession(session);\n    setError('');\n    await loadSessionCandidates(session.id);\n  };\n  const vote = async candidateId => {\n    try {\n      // ‚úÖ FIXED: Double-check session validity before voting\n      const now = new Date();\n      if (!selectedSession || now > selectedSession.endTime) {\n        setError('This session has expired and is no longer accepting votes.');\n        return;\n      }\n      setVoting(true);\n      setError('');\n      const transaction = await contract.vote(selectedSession.id, candidateId);\n      await transaction.wait();\n      alert('‚úÖ Vote submitted successfully!');\n\n      // Update the session to mark as voted\n      setSelectedSession(prev => ({\n        ...prev,\n        hasVoted: true\n      }));\n      onVoteSuccess();\n    } catch (error) {\n      console.error('Error voting:', error);\n      if (error.message.includes('Session has ended') || error.message.includes('expired')) {\n        setError('This session has expired and is no longer accepting votes.');\n      } else if (error.message.includes('already voted')) {\n        setError('You have already voted in this session.');\n      } else {\n        setError(error.message || 'Failed to submit vote');\n      }\n    } finally {\n      setVoting(false);\n    }\n  };\n  const formatDateTime = date => {\n    return date.toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getTimeRemaining = endTime => {\n    const now = new Date();\n    const diff = endTime - now;\n    if (diff <= 0) return 'Expired';\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));\n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `${days} days remaining`;\n    }\n    return `${hours}h ${minutes}m remaining`;\n  };\n  const isSessionExpired = session => {\n    return new Date() > session.endTime;\n  };\n  if (loading || autoStarting) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-sessions\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: autoStarting ? 'Starting eligible sessions...' : 'Loading active sessions...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), autoStarting && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Sessions are being automatically started based on their scheduled time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this);\n  }\n  if (filteredSessions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-sessions\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDDF3\\uFE0F Active Voting Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No active voting sessions at the moment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Active Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"There are currently no voting sessions available. Sessions will automatically start at their scheduled time.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  }\n  if (!selectedSession) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-sessions\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDDF3\\uFE0F Active Voting Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select a session to view candidates and cast your vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sessions-grid\",\n        children: filteredSessions.map(session => {\n          const timeRemaining = getTimeRemaining(session.endTime);\n          const expired = isSessionExpired(session);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `session-card clickable ${expired ? 'expired' : ''}`,\n            onClick: () => !expired && selectSession(session),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: session.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), expired ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge expired\",\n                children: \"\\u23F0 Expired\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this) : session.hasVoted ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge voted\",\n                children: \"\\u2705 Voted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge pending\",\n                children: \"\\u23F3 Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-icon\",\n                  children: \"\\uD83D\\uDCC5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Started: \", formatDateTime(session.startTime)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-icon\",\n                  children: \"\\u23F0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: expired ? 'expired-text' : '',\n                  children: timeRemaining\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-icon\",\n                  children: \"\\uD83D\\uDC65\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [session.candidateCount, \" candidates\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-icon\",\n                  children: \"\\uD83D\\uDDF3\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [session.totalVotes, \" votes cast\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-action\",\n              children: expired ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-disabled btn-small\",\n                disabled: true,\n                children: \"\\u23F0 Session Expired\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary btn-small\",\n                children: session.hasVoted ? 'üëÅÔ∏è View Details' : 'üó≥Ô∏è Vote Now'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this)]\n          }, session.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ‚úÖ FIXED: Check if selected session is still valid\n  const sessionExpired = isSessionExpired(selectedSession);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"active-sessions\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-voting\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"voting-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setSelectedSession(null);\n            setSessionCandidates([]);\n            setError('');\n          },\n          className: \"btn btn-secondary btn-small back-btn\",\n          children: \"\\u2190 Back to Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"\\uD83D\\uDDF3\\uFE0F \", selectedSession.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: sessionExpired ? 'expired-text' : '',\n              children: [\"\\u23F0 \", getTimeRemaining(selectedSession.endTime)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDC65 \", selectedSession.candidateCount, \" candidates\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDDF3\\uFE0F \", selectedSession.totalVotes, \" votes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [\"\\u26A0\\uFE0F \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this), sessionExpired && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expired-notice\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notice-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u23F0 Session Expired\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"This voting session has ended and is no longer accepting votes. You can view the current results below.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), selectedSession.hasVoted && !sessionExpired ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"voted-notice\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notice-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u2705 You have already voted in this session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Thank you for participating! You can view the current results below.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this) : !sessionExpired ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"voting-instructions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCB Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Review all candidates carefully\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"You can only vote once in this session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Your vote is final and cannot be changed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Click \\\"Vote\\\" for your preferred candidate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"candidates-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDC65 Candidates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), sessionCandidates.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-candidates\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading candidates...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"candidates-grid\",\n          children: sessionCandidates.map(candidate => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"candidate-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"candidate-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"candidate-avatar\",\n                children: candidate.name.charAt(0).toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"candidate-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: candidate.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"candidate-id\",\n                  children: [\"Candidate #\", candidate.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"candidate-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"vote-count\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count\",\n                  children: candidate.voteCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"votes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"vote-percentage\",\n                children: [selectedSession.totalVotes > 0 ? Math.round(candidate.voteCount / selectedSession.totalVotes * 100) : 0, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"candidate-actions\",\n              children: sessionExpired || selectedSession.hasVoted ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"already-voted\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: sessionExpired ? '‚è∞ Session Ended' : '‚úÖ Thank you for voting'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => vote(candidate.id),\n                disabled: voting,\n                className: \"btn btn-vote\",\n                children: voting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"btn-spinner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 29\n                  }, this), \"Voting...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"\\uD83D\\uDDF3\\uFE0F Vote for \", candidate.name]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this)]\n          }, candidate.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA Session Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Session Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: selectedSession.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Start Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: formatDateTime(selectedSession.startTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"End Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: formatDateTime(selectedSession.endTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Total Votes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: selectedSession.totalVotes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `detail-value ${sessionExpired ? 'expired' : 'active'}`,\n              children: sessionExpired ? 'Expired' : 'Active'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n};\n_s(ActiveSessions, \"1nfnP+0MIG73MYz/ozaYUD8rX7Q=\");\n_c = ActiveSessions;\nexport default ActiveSessions;\nvar _c;\n$RefreshReg$(_c, \"ActiveSessions\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","ActiveSessions","contract","account","sessions","loading","onVoteSuccess","_s","selectedSession","setSelectedSession","sessionCandidates","setSessionCandidates","voting","setVoting","autoStarting","setAutoStarting","error","setError","autoStartEligibleSessions","now","Date","sessionsToStart","filter","session","startTime","endTime","isActive","length","console","log","name","transaction","startSession","id","wait","filteredSessions","loadSessionCandidates","sessionId","candidates","getSessionCandidates","map","c","toString","voteCount","selectSession","vote","candidateId","alert","prev","hasVoted","message","includes","formatDateTime","date","toLocaleString","year","month","day","hour","minute","getTimeRemaining","diff","hours","Math","floor","minutes","days","isSessionExpired","className","children","fileName","_jsxFileName","lineNumber","columnNumber","timeRemaining","expired","onClick","candidateCount","totalVotes","disabled","sessionExpired","candidate","charAt","toUpperCase","round","_c","$RefreshReg$"],"sources":["/Users/subhashpatel/vote/voting-system-1/src/components/ActiveSessions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst ActiveSessions = ({ contract, account, sessions, loading, onVoteSuccess }) => {\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionCandidates, setSessionCandidates] = useState([]);\n  const [voting, setVoting] = useState(false);\n  const [autoStarting, setAutoStarting] = useState(false);\n  const [error, setError] = useState('');\n\n  // Auto-start sessions that should be active\n  useEffect(() => {\n    autoStartEligibleSessions();\n  }, [sessions, contract]);\n\n  const autoStartEligibleSessions = async () => {\n    if (!contract || autoStarting) return;\n\n    try {\n      const now = new Date();\n      const sessionsToStart = sessions.filter(session => {\n        // Session should auto-start if:\n        // 1. Current time >= start time\n        // 2. Current time <= end time  \n        // 3. Session is not active yet\n        return now >= session.startTime && \n               now <= session.endTime && \n               !session.isActive;\n      });\n\n      if (sessionsToStart.length > 0) {\n        setAutoStarting(true);\n        console.log(`Auto-starting ${sessionsToStart.length} eligible sessions...`);\n\n        for (const session of sessionsToStart) {\n          try {\n            console.log(`Auto-starting session: ${session.name}`);\n            const transaction = await contract.startSession(session.id);\n            await transaction.wait();\n            console.log(`Successfully auto-started session: ${session.name}`);\n          } catch (error) {\n            console.error(`Failed to auto-start session ${session.name}:`, error);\n            // Continue with other sessions even if one fails\n          }\n        }\n\n        // Refresh sessions after auto-starting\n        onVoteSuccess();\n        setAutoStarting(false);\n      }\n    } catch (error) {\n      console.error('Error in auto-start process:', error);\n      setAutoStarting(false);\n    }\n  };\n\n  // ‚úÖ FIXED: Filter only truly active sessions (not expired, within time range)\n  const now = new Date();\n  const filteredSessions = sessions.filter(session => {\n    return session.isActive && \n           now >= session.startTime && \n           now <= session.endTime;\n  });\n\n  const loadSessionCandidates = async (sessionId) => {\n    try {\n      const candidates = await contract.getSessionCandidates(sessionId);\n      setSessionCandidates(candidates.map(c => ({\n        id: c.id.toString(),\n        name: c.name,\n        voteCount: c.voteCount.toString(),\n        isActive: c.isActive\n      })));\n    } catch (error) {\n      console.error('Error loading candidates:', error);\n      setSessionCandidates([]);\n      setError('Failed to load candidates');\n    }\n  };\n\n  const selectSession = async (session) => {\n    // ‚úÖ FIXED: Check if session is still valid before allowing selection\n    const now = new Date();\n    if (now > session.endTime) {\n      setError('This session has expired and is no longer accepting votes.');\n      return;\n    }\n    \n    setSelectedSession(session);\n    setError('');\n    await loadSessionCandidates(session.id);\n  };\n\n  const vote = async (candidateId) => {\n    try {\n      // ‚úÖ FIXED: Double-check session validity before voting\n      const now = new Date();\n      if (!selectedSession || now > selectedSession.endTime) {\n        setError('This session has expired and is no longer accepting votes.');\n        return;\n      }\n\n      setVoting(true);\n      setError('');\n\n      const transaction = await contract.vote(selectedSession.id, candidateId);\n      await transaction.wait();\n\n      alert('‚úÖ Vote submitted successfully!');\n      \n      // Update the session to mark as voted\n      setSelectedSession(prev => ({ ...prev, hasVoted: true }));\n      \n      onVoteSuccess();\n    } catch (error) {\n      console.error('Error voting:', error);\n      if (error.message.includes('Session has ended') || error.message.includes('expired')) {\n        setError('This session has expired and is no longer accepting votes.');\n      } else if (error.message.includes('already voted')) {\n        setError('You have already voted in this session.');\n      } else {\n        setError(error.message || 'Failed to submit vote');\n      }\n    } finally {\n      setVoting(false);\n    }\n  };\n\n  const formatDateTime = (date) => {\n    return date.toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getTimeRemaining = (endTime) => {\n    const now = new Date();\n    const diff = endTime - now;\n    \n    if (diff <= 0) return 'Expired';\n    \n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `${days} days remaining`;\n    }\n    \n    return `${hours}h ${minutes}m remaining`;\n  };\n\n  const isSessionExpired = (session) => {\n    return new Date() > session.endTime;\n  };\n\n  if (loading || autoStarting) {\n    return (\n      <div className=\"active-sessions\">\n        <div className=\"loading-content\">\n          <div className=\"spinner\"></div>\n          <h3>{autoStarting ? 'Starting eligible sessions...' : 'Loading active sessions...'}</h3>\n          {autoStarting && <p>Sessions are being automatically started based on their scheduled time</p>}\n        </div>\n      </div>\n    );\n  }\n\n  if (filteredSessions.length === 0) {\n    return (\n      <div className=\"active-sessions\">\n        <div className=\"section-header\">\n          <h2>üó≥Ô∏è Active Voting Sessions</h2>\n          <p>No active voting sessions at the moment</p>\n        </div>\n        \n        <div className=\"empty-state\">\n          <div className=\"empty-icon\">üìä</div>\n          <h3>No Active Sessions</h3>\n          <p>There are currently no voting sessions available. Sessions will automatically start at their scheduled time.</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!selectedSession) {\n    return (\n      <div className=\"active-sessions\">\n        <div className=\"section-header\">\n          <h2>üó≥Ô∏è Active Voting Sessions</h2>\n          <p>Select a session to view candidates and cast your vote</p>\n        </div>\n\n        <div className=\"sessions-grid\">\n          {filteredSessions.map(session => {\n            const timeRemaining = getTimeRemaining(session.endTime);\n            const expired = isSessionExpired(session);\n            \n            return (\n              <div \n                key={session.id} \n                className={`session-card clickable ${expired ? 'expired' : ''}`}\n                onClick={() => !expired && selectSession(session)}\n              >\n                <div className=\"session-header\">\n                  <h3>{session.name}</h3>\n                  {expired ? (\n                    <span className=\"status-badge expired\">‚è∞ Expired</span>\n                  ) : session.hasVoted ? (\n                    <span className=\"status-badge voted\">‚úÖ Voted</span>\n                  ) : (\n                    <span className=\"status-badge pending\">‚è≥ Pending</span>\n                  )}\n                </div>\n                \n                <div className=\"session-info\">\n                  <div className=\"info-item\">\n                    <span className=\"info-icon\">üìÖ</span>\n                    <span>Started: {formatDateTime(session.startTime)}</span>\n                  </div>\n                  <div className=\"info-item\">\n                    <span className=\"info-icon\">‚è∞</span>\n                    <span className={expired ? 'expired-text' : ''}>{timeRemaining}</span>\n                  </div>\n                  <div className=\"info-item\">\n                    <span className=\"info-icon\">üë•</span>\n                    <span>{session.candidateCount} candidates</span>\n                  </div>\n                  <div className=\"info-item\">\n                    <span className=\"info-icon\">üó≥Ô∏è</span>\n                    <span>{session.totalVotes} votes cast</span>\n                  </div>\n                </div>\n                \n                <div className=\"session-action\">\n                  {expired ? (\n                    <button className=\"btn btn-disabled btn-small\" disabled>\n                      ‚è∞ Session Expired\n                    </button>\n                  ) : (\n                    <button className=\"btn btn-primary btn-small\">\n                      {session.hasVoted ? 'üëÅÔ∏è View Details' : 'üó≥Ô∏è Vote Now'}\n                    </button>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  // ‚úÖ FIXED: Check if selected session is still valid\n  const sessionExpired = isSessionExpired(selectedSession);\n\n  return (\n    <div className=\"active-sessions\">\n      <div className=\"session-voting\">\n        <div className=\"voting-header\">\n          <button \n            onClick={() => {\n              setSelectedSession(null);\n              setSessionCandidates([]);\n              setError('');\n            }}\n            className=\"btn btn-secondary btn-small back-btn\"\n          >\n            ‚Üê Back to Sessions\n          </button>\n          \n          <div className=\"session-title\">\n            <h2>üó≥Ô∏è {selectedSession.name}</h2>\n            <div className=\"session-meta\">\n              <span className={sessionExpired ? 'expired-text' : ''}>\n                ‚è∞ {getTimeRemaining(selectedSession.endTime)}\n              </span>\n              <span>üë• {selectedSession.candidateCount} candidates</span>\n              <span>üó≥Ô∏è {selectedSession.totalVotes} votes</span>\n            </div>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"error-message\">\n            ‚ö†Ô∏è {error}\n          </div>\n        )}\n\n        {sessionExpired && (\n          <div className=\"expired-notice\">\n            <div className=\"notice-content\">\n              <h3>‚è∞ Session Expired</h3>\n              <p>This voting session has ended and is no longer accepting votes. You can view the current results below.</p>\n            </div>\n          </div>\n        )}\n\n        {selectedSession.hasVoted && !sessionExpired ? (\n          <div className=\"voted-notice\">\n            <div className=\"notice-content\">\n              <h3>‚úÖ You have already voted in this session</h3>\n              <p>Thank you for participating! You can view the current results below.</p>\n            </div>\n          </div>\n        ) : !sessionExpired ? (\n          <div className=\"voting-instructions\">\n            <h3>üìã Instructions</h3>\n            <ul>\n              <li>Review all candidates carefully</li>\n              <li>You can only vote once in this session</li>\n              <li>Your vote is final and cannot be changed</li>\n              <li>Click \"Vote\" for your preferred candidate</li>\n            </ul>\n          </div>\n        ) : null}\n\n        <div className=\"candidates-section\">\n          <h3>üë• Candidates</h3>\n          \n          {sessionCandidates.length === 0 ? (\n            <div className=\"loading-candidates\">\n              <div className=\"spinner\"></div>\n              <p>Loading candidates...</p>\n            </div>\n          ) : (\n            <div className=\"candidates-grid\">\n              {sessionCandidates.map(candidate => (\n                <div key={candidate.id} className=\"candidate-card\">\n                  <div className=\"candidate-info\">\n                    <div className=\"candidate-avatar\">\n                      {candidate.name.charAt(0).toUpperCase()}\n                    </div>\n                    <div className=\"candidate-details\">\n                      <h4>{candidate.name}</h4>\n                      <p className=\"candidate-id\">Candidate #{candidate.id}</p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"candidate-stats\">\n                    <div className=\"vote-count\">\n                      <span className=\"count\">{candidate.voteCount}</span>\n                      <span className=\"label\">votes</span>\n                    </div>\n                    <div className=\"vote-percentage\">\n                      {selectedSession.totalVotes > 0 \n                        ? Math.round((candidate.voteCount / selectedSession.totalVotes) * 100)\n                        : 0\n                      }%\n                    </div>\n                  </div>\n                  \n                  <div className=\"candidate-actions\">\n                    {sessionExpired || selectedSession.hasVoted ? (\n                      <div className=\"already-voted\">\n                        <span>{sessionExpired ? '‚è∞ Session Ended' : '‚úÖ Thank you for voting'}</span>\n                      </div>\n                    ) : (\n                      <button\n                        onClick={() => vote(candidate.id)}\n                        disabled={voting}\n                        className=\"btn btn-vote\"\n                      >\n                        {voting ? (\n                          <>\n                            <div className=\"btn-spinner\"></div>\n                            Voting...\n                          </>\n                        ) : (\n                          <>\n                            üó≥Ô∏è Vote for {candidate.name}\n                          </>\n                        )}\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"session-details\">\n          <h3>üìä Session Details</h3>\n          <div className=\"details-grid\">\n            <div className=\"detail-item\">\n              <span className=\"detail-label\">Session Name:</span>\n              <span className=\"detail-value\">{selectedSession.name}</span>\n            </div>\n            <div className=\"detail-item\">\n              <span className=\"detail-label\">Start Time:</span>\n              <span className=\"detail-value\">{formatDateTime(selectedSession.startTime)}</span>\n            </div>\n            <div className=\"detail-item\">\n              <span className=\"detail-label\">End Time:</span>\n              <span className=\"detail-value\">{formatDateTime(selectedSession.endTime)}</span>\n            </div>\n            <div className=\"detail-item\">\n              <span className=\"detail-label\">Total Votes:</span>\n              <span className=\"detail-value\">{selectedSession.totalVotes}</span>\n            </div>\n            <div className=\"detail-item\">\n              <span className=\"detail-label\">Status:</span>\n              <span className={`detail-value ${sessionExpired ? 'expired' : 'active'}`}>\n                {sessionExpired ? 'Expired' : 'Active'}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ActiveSessions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}