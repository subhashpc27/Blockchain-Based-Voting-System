{"ast":null,"code":"var _jsxFileName = \"/Users/subhashpatel/vote/voting-system-1/src/components/SessionManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SessionManager = ({\n  contract,\n  sessions,\n  loading,\n  onSessionUpdated\n}) => {\n  _s();\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionCandidates, setSessionCandidates] = useState([]);\n  const [actionLoading, setActionLoading] = useState('');\n  const [autoStarting, setAutoStarting] = useState(false);\n  const [error, setError] = useState('');\n  const [viewMode, setViewMode] = useState('categorized'); // 'categorized' or 'all'\n\n  const now = new Date();\n\n  // Auto-start sessions that should be active\n  useEffect(() => {\n    autoStartEligibleSessions();\n  }, [sessions, contract]);\n  const autoStartEligibleSessions = async () => {\n    if (!contract || autoStarting || loading) return;\n    try {\n      const now = new Date();\n      const sessionsToStart = sessions.filter(session => {\n        // Session should auto-start if:\n        // 1. Current time >= start time\n        // 2. Current time <= end time  \n        // 3. Session is not active yet\n        return now >= session.startTime && now <= session.endTime && !session.isActive;\n      });\n      if (sessionsToStart.length > 0) {\n        setAutoStarting(true);\n        console.log(`Auto-starting ${sessionsToStart.length} eligible sessions...`);\n        for (const session of sessionsToStart) {\n          try {\n            console.log(`Auto-starting session: ${session.name}`);\n            const transaction = await contract.startSession(session.id);\n            await transaction.wait();\n            console.log(`Successfully auto-started session: ${session.name}`);\n          } catch (error) {\n            console.error(`Failed to auto-start session ${session.name}:`, error);\n            // Continue with other sessions even if one fails\n          }\n        }\n\n        // Refresh sessions after auto-starting\n        onSessionUpdated();\n        setAutoStarting(false);\n      }\n    } catch (error) {\n      console.error('Error in auto-start process:', error);\n      setAutoStarting(false);\n    }\n  };\n\n  // ✅ FIXED: Proper session categorization with correct time comparisons\n  const getSessionCategory = session => {\n    const now = new Date();\n    const startTime = new Date(session.startTime);\n    const endTime = new Date(session.endTime);\n\n    // Pending: Not started yet (regardless of isActive status)\n    if (now < startTime) {\n      return 'pending';\n    }\n\n    // Active: Started and within time range AND isActive = true\n    if (now >= startTime && now <= endTime && session.isActive) {\n      return 'active';\n    }\n\n    // Expired: Time passed end time but still marked as active (needs to be closed)\n    if (now > endTime && session.isActive) {\n      return 'expired';\n    }\n\n    // Completed: Time passed end time and properly closed (isActive = false)\n    if (now > endTime && !session.isActive) {\n      return 'completed';\n    }\n\n    // Inactive: Within time range but not active (manually stopped)\n    if (now >= startTime && now <= endTime && !session.isActive) {\n      return 'inactive';\n    }\n    return 'inactive';\n  };\n\n  // Categorize sessions\n  const pendingSessions = sessions.filter(s => getSessionCategory(s) === 'pending');\n  const activeSessions = sessions.filter(s => getSessionCategory(s) === 'active');\n  const expiredSessions = sessions.filter(s => getSessionCategory(s) === 'expired');\n  const completedSessions = sessions.filter(s => getSessionCategory(s) === 'completed');\n  const inactiveSessions = sessions.filter(s => getSessionCategory(s) === 'inactive');\n  const loadSessionCandidates = async sessionId => {\n    try {\n      const candidates = await contract.getSessionCandidates(sessionId);\n      setSessionCandidates(candidates.map(c => ({\n        id: c.id.toString(),\n        name: c.name,\n        voteCount: c.voteCount.toString(),\n        isActive: c.isActive\n      })));\n    } catch (error) {\n      console.error('Error loading candidates:', error);\n      setSessionCandidates([]);\n    }\n  };\n  const selectSession = async session => {\n    setSelectedSession(session);\n    await loadSessionCandidates(session.id);\n  };\n  const startSession = async sessionId => {\n    try {\n      setActionLoading(`start-${sessionId}`);\n      setError('');\n      const transaction = await contract.startSession(sessionId);\n      await transaction.wait();\n      alert('✅ Session started successfully!');\n      onSessionUpdated();\n    } catch (error) {\n      console.error('Error starting session:', error);\n      setError(error.message || 'Failed to start session');\n    } finally {\n      setActionLoading('');\n    }\n  };\n  const formatDateTime = date => {\n    return date.toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getSessionStatus = session => {\n    const category = getSessionCategory(session);\n    switch (category) {\n      case 'pending':\n        return {\n          text: 'Pending',\n          class: 'status-pending',\n          icon: '🟡'\n        };\n      case 'active':\n        return {\n          text: 'Active',\n          class: 'status-active',\n          icon: '🟢'\n        };\n      case 'expired':\n        return {\n          text: 'Expired',\n          class: 'status-expired',\n          icon: '🔴'\n        };\n      case 'completed':\n        return {\n          text: 'Completed',\n          class: 'status-completed',\n          icon: '✅'\n        };\n      case 'inactive':\n        return {\n          text: 'Inactive',\n          class: 'status-inactive',\n          icon: '⚫'\n        };\n      default:\n        return {\n          text: 'Unknown',\n          class: 'status-unknown',\n          icon: '❓'\n        };\n    }\n  };\n  const canStartSession = session => {\n    const category = getSessionCategory(session);\n    const now = new Date();\n    // Can manually start if: pending and current time >= start time, OR inactive and within time range\n    // Note: Auto-start handles most cases, but manual start is still available\n    return category === 'pending' && now >= new Date(session.startTime) || category === 'inactive' && now >= new Date(session.startTime) && now <= new Date(session.endTime);\n  };\n  const canEndSession = session => {\n    const category = getSessionCategory(session);\n    // Can end if active or expired\n    return category === 'active' || category === 'expired';\n  };\n  const getTimeUntilStart = startTime => {\n    const now = new Date();\n    const diff = new Date(startTime) - now;\n    if (diff <= 0) return 'Auto-starting...';\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));\n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `Auto-starts in ${days} days`;\n    }\n    return `Auto-starts in ${hours}h ${minutes}m`;\n  };\n  const renderSessionCard = session => {\n    const status = getSessionStatus(session);\n    const category = getSessionCategory(session);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `session-card ${category} ${(selectedSession === null || selectedSession === void 0 ? void 0 : selectedSession.id) === session.id ? 'selected' : ''}`,\n      onClick: () => selectSession(session),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: session.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-badges\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-badge ${status.class}`,\n            children: [status.icon, \" \", status.text]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), category === 'pending' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"auto-start-badge\",\n            children: \"\\u23F0 Auto-start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDCC5 Start:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 14\n          }, this), \" \", formatDateTime(session.startTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u23F0 End:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 14\n          }, this), \" \", formatDateTime(session.endTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDC65 Candidates:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 14\n          }, this), \" \", session.candidateCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDDF3\\uFE0F Votes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 14\n          }, this), \" \", session.totalVotes]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), category === 'pending' && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u23F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 16\n          }, this), \" \", getTimeUntilStart(session.startTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-actions\",\n        children: [canStartSession(session) && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            startSession(session.id);\n          },\n          disabled: actionLoading === `start-${session.id}`,\n          className: \"btn btn-success btn-small\",\n          children: actionLoading === `start-${session.id}` ? '⏳' : '▶️ Start Now'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), canEndSession(session) && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            endSession(session.id);\n          },\n          disabled: actionLoading === `end-${session.id}`,\n          className: \"btn btn-danger btn-small\",\n          children: actionLoading === `end-${session.id}` ? '⏳' : category === 'expired' ? '🔒 Close Session' : '🛑 End Session'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), !canStartSession(session) && !canEndSession(session) && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"session-finished\",\n          children: category === 'completed' ? '🏁 Finished' : category === 'pending' ? '⏰ Will auto-start' : '⏸️ Inactive'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, session.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading || autoStarting) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-manager\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: autoStarting ? 'Auto-starting eligible sessions...' : 'Loading sessions...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), autoStarting && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Sessions are being automatically started based on their scheduled time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"session-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCCA Session Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Manage all voting sessions, start/stop voting, and monitor progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auto-start-info\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"info-badge\",\n          children: \"\\u2139\\uFE0F Sessions automatically start at their scheduled time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [\"\\u26A0\\uFE0F \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sessions-overview\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overview-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `stat-card clickable ${viewMode === 'all' ? 'active' : ''}`,\n          onClick: () => setViewMode(viewMode === 'all' ? 'categorized' : 'all'),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-number\",\n            children: sessions.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-action\",\n            children: [\"\\uD83D\\uDC41\\uFE0F Click to \", viewMode === 'all' ? 'categorize' : 'view all']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card pending\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-number\",\n            children: pendingSessions.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Pending Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-note\",\n            children: \"Will auto-start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card active\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-number\",\n            children: activeSessions.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Active Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card completed\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-number\",\n            children: completedSessions.length + expiredSessions.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Finished Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sessions-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sessions-list\",\n        children: [viewMode === 'all' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sessions-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title all\",\n            children: \"\\uD83D\\uDCCB All Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sessions-grid\",\n            children: sessions.sort((a, b) => new Date(b.startTime) - new Date(a.startTime)).map(renderSessionCard)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [pendingSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sessions-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title pending\",\n              children: [\"\\uD83D\\uDFE1 Pending Sessions (\", pendingSessions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"section-description\",\n              children: \"These sessions will automatically start at their scheduled time.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sessions-grid\",\n              children: pendingSessions.map(renderSessionCard)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 17\n          }, this), activeSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sessions-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title active\",\n              children: [\"\\uD83D\\uDFE2 Active Sessions (\", activeSessions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sessions-grid\",\n              children: activeSessions.map(renderSessionCard)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 17\n          }, this), expiredSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sessions-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title expired\",\n              children: [\"\\uD83D\\uDD34 Expired Sessions (\", expiredSessions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"section-description\",\n              children: \"These sessions have passed their end time but are still active. Close them to finalize results.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sessions-grid\",\n              children: expiredSessions.map(renderSessionCard)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this), inactiveSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sessions-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title inactive\",\n              children: [\"\\u26AB Inactive Sessions (\", inactiveSessions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"section-description\",\n              children: \"These sessions are within their time range but not currently active.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sessions-grid\",\n              children: inactiveSessions.map(renderSessionCard)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 17\n          }, this), completedSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sessions-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title completed\",\n              children: [\"\\u2705 Completed Sessions (\", completedSessions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sessions-grid\",\n              children: completedSessions.map(renderSessionCard)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), sessions.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCDD No sessions created yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Create your first voting session to get started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), selectedSession && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDCCB Session Details: \", selectedSession.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedSession(null),\n            className: \"btn btn-secondary btn-small\",\n            children: \"\\u274C Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDCCA Session Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: selectedSession.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `detail-value ${getSessionStatus(selectedSession).class}`,\n                  children: [getSessionStatus(selectedSession).icon, \" \", getSessionStatus(selectedSession).text]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Category:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: getSessionCategory(selectedSession)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Start Time:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: formatDateTime(selectedSession.startTime)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"End Time:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: formatDateTime(selectedSession.endTime)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Total Votes:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: selectedSession.totalVotes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Blockchain Active:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: selectedSession.isActive ? 'Yes' : 'No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Auto-Start:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: getSessionCategory(selectedSession) === 'pending' ? 'Enabled' : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDC65 Candidates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"candidates-table\",\n              children: sessionCandidates.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"ID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Votes\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Percentage\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 465,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: sessionCandidates.map(candidate => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: candidate.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 471,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: candidate.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 472,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: candidate.voteCount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [selectedSession.totalVotes > 0 ? Math.round(candidate.voteCount / selectedSession.totalVotes * 100) : 0, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 29\n                    }, this)]\n                  }, candidate.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"no-data\",\n                children: \"No candidates data available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\u26A1 Quick Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"quick-actions-grid\",\n              children: [canStartSession(selectedSession) && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => startSession(selectedSession.id),\n                disabled: actionLoading === `start-${selectedSession.id}`,\n                className: \"btn btn-success\",\n                children: actionLoading === `start-${selectedSession.id}` ? '⏳ Starting...' : '▶️ Manual Start'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 21\n              }, this), canEndSession(selectedSession) && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => endSession(selectedSession.id),\n                disabled: actionLoading === `end-${selectedSession.id}`,\n                className: \"btn btn-danger\",\n                children: actionLoading === `end-${selectedSession.id}` ? '⏳ Ending...' : getSessionCategory(selectedSession) === 'expired' ? '🔒 Close Session' : '🛑 End Session'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), getSessionCategory(selectedSession) === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auto-start-notice\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u2139\\uFE0F This session will automatically start at \", formatDateTime(selectedSession.startTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n};\n_s(SessionManager, \"arvYDPACkNVbOlncEElpnH+2Ur8=\");\n_c = SessionManager;\nexport default SessionManager;\nvar _c;\n$RefreshReg$(_c, \"SessionManager\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","SessionManager","contract","sessions","loading","onSessionUpdated","_s","selectedSession","setSelectedSession","sessionCandidates","setSessionCandidates","actionLoading","setActionLoading","autoStarting","setAutoStarting","error","setError","viewMode","setViewMode","now","Date","autoStartEligibleSessions","sessionsToStart","filter","session","startTime","endTime","isActive","length","console","log","name","transaction","startSession","id","wait","getSessionCategory","pendingSessions","s","activeSessions","expiredSessions","completedSessions","inactiveSessions","loadSessionCandidates","sessionId","candidates","getSessionCandidates","map","c","toString","voteCount","selectSession","alert","message","formatDateTime","date","toLocaleString","year","month","day","hour","minute","getSessionStatus","category","text","class","icon","canStartSession","canEndSession","getTimeUntilStart","diff","hours","Math","floor","minutes","days","renderSessionCard","status","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","candidateCount","totalVotes","e","stopPropagation","disabled","endSession","sort","a","b","candidate","round","_c","$RefreshReg$"],"sources":["/Users/subhashpatel/vote/voting-system-1/src/components/SessionManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst SessionManager = ({ contract, sessions, loading, onSessionUpdated }) => {\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionCandidates, setSessionCandidates] = useState([]);\n  const [actionLoading, setActionLoading] = useState('');\n  const [autoStarting, setAutoStarting] = useState(false);\n  const [error, setError] = useState('');\n  const [viewMode, setViewMode] = useState('categorized'); // 'categorized' or 'all'\n\n  const now = new Date();\n\n  // Auto-start sessions that should be active\n  useEffect(() => {\n    autoStartEligibleSessions();\n  }, [sessions, contract]);\n\n  const autoStartEligibleSessions = async () => {\n    if (!contract || autoStarting || loading) return;\n\n    try {\n      const now = new Date();\n      const sessionsToStart = sessions.filter(session => {\n        // Session should auto-start if:\n        // 1. Current time >= start time\n        // 2. Current time <= end time  \n        // 3. Session is not active yet\n        return now >= session.startTime && \n               now <= session.endTime && \n               !session.isActive;\n      });\n\n      if (sessionsToStart.length > 0) {\n        setAutoStarting(true);\n        console.log(`Auto-starting ${sessionsToStart.length} eligible sessions...`);\n\n        for (const session of sessionsToStart) {\n          try {\n            console.log(`Auto-starting session: ${session.name}`);\n            const transaction = await contract.startSession(session.id);\n            await transaction.wait();\n            console.log(`Successfully auto-started session: ${session.name}`);\n          } catch (error) {\n            console.error(`Failed to auto-start session ${session.name}:`, error);\n            // Continue with other sessions even if one fails\n          }\n        }\n\n        // Refresh sessions after auto-starting\n        onSessionUpdated();\n        setAutoStarting(false);\n      }\n    } catch (error) {\n      console.error('Error in auto-start process:', error);\n      setAutoStarting(false);\n    }\n  };\n\n  // ✅ FIXED: Proper session categorization with correct time comparisons\n  const getSessionCategory = (session) => {\n    const now = new Date();\n    const startTime = new Date(session.startTime);\n    const endTime = new Date(session.endTime);\n    \n    // Pending: Not started yet (regardless of isActive status)\n    if (now < startTime) {\n      return 'pending';\n    }\n    \n    // Active: Started and within time range AND isActive = true\n    if (now >= startTime && now <= endTime && session.isActive) {\n      return 'active';\n    }\n    \n    // Expired: Time passed end time but still marked as active (needs to be closed)\n    if (now > endTime && session.isActive) {\n      return 'expired';\n    }\n    \n    // Completed: Time passed end time and properly closed (isActive = false)\n    if (now > endTime && !session.isActive) {\n      return 'completed';\n    }\n    \n    // Inactive: Within time range but not active (manually stopped)\n    if (now >= startTime && now <= endTime && !session.isActive) {\n      return 'inactive';\n    }\n    \n    return 'inactive';\n  };\n\n  // Categorize sessions\n  const pendingSessions = sessions.filter(s => getSessionCategory(s) === 'pending');\n  const activeSessions = sessions.filter(s => getSessionCategory(s) === 'active');\n  const expiredSessions = sessions.filter(s => getSessionCategory(s) === 'expired');\n  const completedSessions = sessions.filter(s => getSessionCategory(s) === 'completed');\n  const inactiveSessions = sessions.filter(s => getSessionCategory(s) === 'inactive');\n\n  const loadSessionCandidates = async (sessionId) => {\n    try {\n      const candidates = await contract.getSessionCandidates(sessionId);\n      setSessionCandidates(candidates.map(c => ({\n        id: c.id.toString(),\n        name: c.name,\n        voteCount: c.voteCount.toString(),\n        isActive: c.isActive\n      })));\n    } catch (error) {\n      console.error('Error loading candidates:', error);\n      setSessionCandidates([]);\n    }\n  };\n\n  const selectSession = async (session) => {\n    setSelectedSession(session);\n    await loadSessionCandidates(session.id);\n  };\n\n  const startSession = async (sessionId) => {\n    try {\n      setActionLoading(`start-${sessionId}`);\n      setError('');\n\n      const transaction = await contract.startSession(sessionId);\n      await transaction.wait();\n\n      alert('✅ Session started successfully!');\n      onSessionUpdated();\n    } catch (error) {\n      console.error('Error starting session:', error);\n      setError(error.message || 'Failed to start session');\n    } finally {\n      setActionLoading('');\n    }\n  };\n\n  const formatDateTime = (date) => {\n    return date.toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getSessionStatus = (session) => {\n    const category = getSessionCategory(session);\n    \n    switch (category) {\n      case 'pending':\n        return { text: 'Pending', class: 'status-pending', icon: '🟡' };\n      case 'active':\n        return { text: 'Active', class: 'status-active', icon: '🟢' };\n      case 'expired':\n        return { text: 'Expired', class: 'status-expired', icon: '🔴' };\n      case 'completed':\n        return { text: 'Completed', class: 'status-completed', icon: '✅' };\n      case 'inactive':\n        return { text: 'Inactive', class: 'status-inactive', icon: '⚫' };\n      default:\n        return { text: 'Unknown', class: 'status-unknown', icon: '❓' };\n    }\n  };\n\n  const canStartSession = (session) => {\n    const category = getSessionCategory(session);\n    const now = new Date();\n    // Can manually start if: pending and current time >= start time, OR inactive and within time range\n    // Note: Auto-start handles most cases, but manual start is still available\n    return (category === 'pending' && now >= new Date(session.startTime)) || \n           (category === 'inactive' && now >= new Date(session.startTime) && now <= new Date(session.endTime));\n  };\n\n  const canEndSession = (session) => {\n    const category = getSessionCategory(session);\n    // Can end if active or expired\n    return category === 'active' || category === 'expired';\n  };\n\n  const getTimeUntilStart = (startTime) => {\n    const now = new Date();\n    const diff = new Date(startTime) - now;\n    \n    if (diff <= 0) return 'Auto-starting...';\n    \n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `Auto-starts in ${days} days`;\n    }\n    \n    return `Auto-starts in ${hours}h ${minutes}m`;\n  };\n\n  const renderSessionCard = (session) => {\n    const status = getSessionStatus(session);\n    const category = getSessionCategory(session);\n    \n    return (\n      <div \n        key={session.id} \n        className={`session-card ${category} ${selectedSession?.id === session.id ? 'selected' : ''}`}\n        onClick={() => selectSession(session)}\n      >\n        <div className=\"session-header\">\n          <h4>{session.name}</h4>\n          <div className=\"session-badges\">\n            <span className={`status-badge ${status.class}`}>\n              {status.icon} {status.text}\n            </span>\n            {category === 'pending' && (\n              <span className=\"auto-start-badge\">\n                ⏰ Auto-start\n              </span>\n            )}\n          </div>\n        </div>\n\n        <div className=\"session-info\">\n          <p><strong>📅 Start:</strong> {formatDateTime(session.startTime)}</p>\n          <p><strong>⏰ End:</strong> {formatDateTime(session.endTime)}</p>\n          <p><strong>👥 Candidates:</strong> {session.candidateCount}</p>\n          <p><strong>🗳️ Votes:</strong> {session.totalVotes}</p>\n          {category === 'pending' && (\n            <p><strong>⏳</strong> {getTimeUntilStart(session.startTime)}</p>\n          )}\n        </div>\n\n        <div className=\"session-actions\">\n          {canStartSession(session) && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                startSession(session.id);\n              }}\n              disabled={actionLoading === `start-${session.id}`}\n              className=\"btn btn-success btn-small\"\n            >\n              {actionLoading === `start-${session.id}` ? '⏳' : '▶️ Start Now'}\n            </button>\n          )}\n          \n          {canEndSession(session) && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                endSession(session.id);\n              }}\n              disabled={actionLoading === `end-${session.id}`}\n              className=\"btn btn-danger btn-small\"\n            >\n              {actionLoading === `end-${session.id}` ? '⏳' : \n               category === 'expired' ? '🔒 Close Session' : '🛑 End Session'}\n            </button>\n          )}\n          \n          {!canStartSession(session) && !canEndSession(session) && (\n            <span className=\"session-finished\">\n              {category === 'completed' ? '🏁 Finished' : \n               category === 'pending' ? '⏰ Will auto-start' : '⏸️ Inactive'}\n            </span>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  if (loading || autoStarting) {\n    return (\n      <div className=\"session-manager\">\n        <div className=\"loading-content\">\n          <div className=\"spinner\"></div>\n          <h3>{autoStarting ? 'Auto-starting eligible sessions...' : 'Loading sessions...'}</h3>\n          {autoStarting && (\n            <p>Sessions are being automatically started based on their scheduled time</p>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"session-manager\">\n      <div className=\"section-header\">\n        <h2>📊 Session Management</h2>\n        <p>Manage all voting sessions, start/stop voting, and monitor progress</p>\n        <div className=\"auto-start-info\">\n          <span className=\"info-badge\">ℹ️ Sessions automatically start at their scheduled time</span>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          ⚠️ {error}\n        </div>\n      )}\n\n      <div className=\"sessions-overview\">\n        <div className=\"overview-stats\">\n          <div \n            className={`stat-card clickable ${viewMode === 'all' ? 'active' : ''}`}\n            onClick={() => setViewMode(viewMode === 'all' ? 'categorized' : 'all')}\n          >\n            <div className=\"stat-number\">{sessions.length}</div>\n            <div className=\"stat-label\">Total Sessions</div>\n            <div className=\"stat-action\">👁️ Click to {viewMode === 'all' ? 'categorize' : 'view all'}</div>\n          </div>\n          <div className=\"stat-card pending\">\n            <div className=\"stat-number\">{pendingSessions.length}</div>\n            <div className=\"stat-label\">Pending Sessions</div>\n            <div className=\"stat-note\">Will auto-start</div>\n          </div>\n          <div className=\"stat-card active\">\n            <div className=\"stat-number\">{activeSessions.length}</div>\n            <div className=\"stat-label\">Active Sessions</div>\n          </div>\n          <div className=\"stat-card completed\">\n            <div className=\"stat-number\">{completedSessions.length + expiredSessions.length}</div>\n            <div className=\"stat-label\">Finished Sessions</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"sessions-content\">\n        <div className=\"sessions-list\">\n          {viewMode === 'all' ? (\n            <div className=\"sessions-section\">\n              <h3 className=\"section-title all\">📋 All Sessions</h3>\n              <div className=\"sessions-grid\">\n                {sessions\n                  .sort((a, b) => new Date(b.startTime) - new Date(a.startTime))\n                  .map(renderSessionCard)\n                }\n              </div>\n            </div>\n          ) : (\n            <>\n              {pendingSessions.length > 0 && (\n                <div className=\"sessions-section\">\n                  <h3 className=\"section-title pending\">🟡 Pending Sessions ({pendingSessions.length})</h3>\n                  <p className=\"section-description\">These sessions will automatically start at their scheduled time.</p>\n                  <div className=\"sessions-grid\">\n                    {pendingSessions.map(renderSessionCard)}\n                  </div>\n                </div>\n              )}\n\n              {activeSessions.length > 0 && (\n                <div className=\"sessions-section\">\n                  <h3 className=\"section-title active\">🟢 Active Sessions ({activeSessions.length})</h3>\n                  <div className=\"sessions-grid\">\n                    {activeSessions.map(renderSessionCard)}\n                  </div>\n                </div>\n              )}\n\n              {expiredSessions.length > 0 && (\n                <div className=\"sessions-section\">\n                  <h3 className=\"section-title expired\">🔴 Expired Sessions ({expiredSessions.length})</h3>\n                  <p className=\"section-description\">These sessions have passed their end time but are still active. Close them to finalize results.</p>\n                  <div className=\"sessions-grid\">\n                    {expiredSessions.map(renderSessionCard)}\n                  </div>\n                </div>\n              )}\n\n              {inactiveSessions.length > 0 && (\n                <div className=\"sessions-section\">\n                  <h3 className=\"section-title inactive\">⚫ Inactive Sessions ({inactiveSessions.length})</h3>\n                  <p className=\"section-description\">These sessions are within their time range but not currently active.</p>\n                  <div className=\"sessions-grid\">\n                    {inactiveSessions.map(renderSessionCard)}\n                  </div>\n                </div>\n              )}\n\n              {completedSessions.length > 0 && (\n                <div className=\"sessions-section\">\n                  <h3 className=\"section-title completed\">✅ Completed Sessions ({completedSessions.length})</h3>\n                  <div className=\"sessions-grid\">\n                    {completedSessions.map(renderSessionCard)}\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n\n          {sessions.length === 0 && (\n            <div className=\"empty-state\">\n              <h3>📝 No sessions created yet</h3>\n              <p>Create your first voting session to get started</p>\n            </div>\n          )}\n        </div>\n\n        {selectedSession && (\n          <div className=\"session-details\">\n            <div className=\"details-header\">\n              <h3>📋 Session Details: {selectedSession.name}</h3>\n              <button \n                onClick={() => setSelectedSession(null)}\n                className=\"btn btn-secondary btn-small\"\n              >\n                ❌ Close\n              </button>\n            </div>\n\n            <div className=\"details-content\">\n              <div className=\"detail-section\">\n                <h4>📊 Session Information</h4>\n                <div className=\"detail-grid\">\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Name:</span>\n                    <span className=\"detail-value\">{selectedSession.name}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Status:</span>\n                    <span className={`detail-value ${getSessionStatus(selectedSession).class}`}>\n                      {getSessionStatus(selectedSession).icon} {getSessionStatus(selectedSession).text}\n                    </span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Category:</span>\n                    <span className=\"detail-value\">{getSessionCategory(selectedSession)}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Start Time:</span>\n                    <span className=\"detail-value\">{formatDateTime(selectedSession.startTime)}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">End Time:</span>\n                    <span className=\"detail-value\">{formatDateTime(selectedSession.endTime)}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Total Votes:</span>\n                    <span className=\"detail-value\">{selectedSession.totalVotes}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Blockchain Active:</span>\n                    <span className=\"detail-value\">{selectedSession.isActive ? 'Yes' : 'No'}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Auto-Start:</span>\n                    <span className=\"detail-value\">\n                      {getSessionCategory(selectedSession) === 'pending' ? 'Enabled' : 'N/A'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"detail-section\">\n                <h4>👥 Candidates</h4>\n                <div className=\"candidates-table\">\n                  {sessionCandidates.length > 0 ? (\n                    <table>\n                      <thead>\n                        <tr>\n                          <th>ID</th>\n                          <th>Name</th>\n                          <th>Votes</th>\n                          <th>Percentage</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {sessionCandidates.map(candidate => (\n                          <tr key={candidate.id}>\n                            <td>{candidate.id}</td>\n                            <td>{candidate.name}</td>\n                            <td>{candidate.voteCount}</td>\n                            <td>\n                              {selectedSession.totalVotes > 0 \n                                ? Math.round((candidate.voteCount / selectedSession.totalVotes) * 100)\n                                : 0\n                              }%\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  ) : (\n                    <p className=\"no-data\">No candidates data available</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"detail-section\">\n                <h4>⚡ Quick Actions</h4>\n                <div className=\"quick-actions-grid\">\n                  {canStartSession(selectedSession) && (\n                    <button\n                      onClick={() => startSession(selectedSession.id)}\n                      disabled={actionLoading === `start-${selectedSession.id}`}\n                      className=\"btn btn-success\"\n                    >\n                      {actionLoading === `start-${selectedSession.id}` ? '⏳ Starting...' : '▶️ Manual Start'}\n                    </button>\n                  )}\n                  \n                  {canEndSession(selectedSession) && (\n                    <button\n                      onClick={() => endSession(selectedSession.id)}\n                      disabled={actionLoading === `end-${selectedSession.id}`}\n                      className=\"btn btn-danger\"\n                    >\n                      {actionLoading === `end-${selectedSession.id}` ? '⏳ Ending...' : \n                       getSessionCategory(selectedSession) === 'expired' ? '🔒 Close Session' : '🛑 End Session'}\n                    </button>\n                  )}\n                </div>\n                \n                {getSessionCategory(selectedSession) === 'pending' && (\n                  <div className=\"auto-start-notice\">\n                    <p>ℹ️ This session will automatically start at {formatDateTime(selectedSession.startTime)}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SessionManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}