{"ast":null,"code":"var _jsxFileName = \"/Users/subhashpatel/vote/voting-system-1/src/components/VoterPortal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoterPortal = ({\n  contract,\n  account,\n  onDisconnect\n}) => {\n  _s();\n  const [activeTab, setActiveTab] = useState('active-sessions');\n  const [activeSessions, setActiveSessions] = useState([]);\n  const [completedSessions, setCompletedSessions] = useState([]);\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionCandidates, setSessionCandidates] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [userVotes, setUserVotes] = useState({});\n  useEffect(() => {\n    loadData();\n    setupEventListeners();\n  }, []);\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      await Promise.all([loadActiveSessions(), loadCompletedSessions(), loadUserVotes()]);\n    } catch (error) {\n      setError(`Error loading data: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadActiveSessions = async () => {\n    try {\n      const activeSessionsData = await contract.getActiveSessions();\n      const sessionsWithDetails = await Promise.all(activeSessionsData.map(async session => {\n        const hasVoted = await contract.hasUserVoted(session.id, account);\n        const totalVotes = session.totalVotes.toString();\n        return {\n          ...session,\n          id: session.id.toString(),\n          startTime: new Date(Number(session.startTime) * 1000),\n          endTime: new Date(Number(session.endTime) * 1000),\n          totalVotes,\n          hasVoted\n        };\n      }));\n      setActiveSessions(sessionsWithDetails);\n    } catch (error) {\n      console.error('Error loading active sessions:', error);\n    }\n  };\n  const loadCompletedSessions = async () => {\n    try {\n      const completedSessionsData = await contract.getCompletedSessions(10);\n      const sessionsWithDetails = await Promise.all(completedSessionsData.map(async session => {\n        const [winnerName, winnerVotes] = await contract.getSessionWinner(session.id);\n        const hasVoted = await contract.hasUserVoted(session.id, account);\n        const candidates = await contract.getSessionCandidates(session.id);\n        return {\n          ...session,\n          id: session.id.toString(),\n          startTime: new Date(Number(session.startTime) * 1000),\n          endTime: new Date(Number(session.endTime) * 1000),\n          totalVotes: session.totalVotes.toString(),\n          winner: {\n            name: winnerName,\n            votes: winnerVotes.toString()\n          },\n          hasVoted,\n          candidates: candidates.filter(c => c.isActive).map(c => ({\n            ...c,\n            id: c.id.toString(),\n            voteCount: c.voteCount.toString()\n          }))\n        };\n      }));\n      setCompletedSessions(sessionsWithDetails);\n    } catch (error) {\n      console.error('Error loading completed sessions:', error);\n    }\n  };\n  const loadUserVotes = async () => {\n    try {\n      const votes = {};\n      const allSessions = [...activeSessions, ...completedSessions];\n      for (const session of allSessions) {\n        const hasVoted = await contract.hasUserVoted(session.id, account);\n        if (hasVoted) {\n          const candidateId = await contract.getUserVoteInSession(session.id, account);\n          votes[session.id] = candidateId.toString();\n        }\n      }\n      setUserVotes(votes);\n    } catch (error) {\n      console.error('Error loading user votes:', error);\n    }\n  };\n  const setupEventListeners = () => {\n    contract.on(\"VoteCast\", (sessionId, candidateId, voter) => {\n      if (voter.toLowerCase() === account.toLowerCase()) {\n        setUserVotes(prev => ({\n          ...prev,\n          [sessionId.toString()]: candidateId.toString()\n        }));\n      }\n      loadData(); // Refresh all data when any vote is cast\n    });\n    contract.on(\"SessionStarted\", () => {\n      loadActiveSessions();\n    });\n    contract.on(\"SessionStopped\", () => {\n      loadData();\n    });\n  };\n  const selectSession = async session => {\n    try {\n      setLoading(true);\n      const candidates = await contract.getSessionCandidates(session.id);\n      setSessionCandidates(candidates.filter(c => c.isActive).map(c => ({\n        ...c,\n        id: c.id.toString(),\n        voteCount: c.voteCount.toString()\n      })));\n      setSelectedSession(session);\n      setActiveTab('vote');\n    } catch (error) {\n      setError(`Error loading session details: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const vote = async candidateId => {\n    try {\n      setLoading(true);\n      const transaction = await contract.vote(selectedSession.id, candidateId);\n      await transaction.wait();\n\n      // Update local state immediately\n      setUserVotes(prev => ({\n        ...prev,\n        [selectedSession.id]: candidateId\n      }));\n\n      // Update session to show user has voted\n      setSelectedSession(prev => ({\n        ...prev,\n        hasVoted: true,\n        totalVotes: (parseInt(prev.totalVotes) + 1).toString()\n      }));\n\n      // Update candidates vote count locally for immediate feedback\n      setSessionCandidates(prev => prev.map(candidate => candidate.id === candidateId ? {\n        ...candidate,\n        voteCount: (parseInt(candidate.voteCount) + 1).toString()\n      } : candidate));\n      alert('âœ… Vote submitted successfully!');\n    } catch (error) {\n      setError(`Error voting: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatDateTime = date => {\n    return date.toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const formatTimeRemaining = endTime => {\n    const now = new Date();\n    const diff = endTime - now;\n    if (diff <= 0) return 'Ended';\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));\n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `${days}d ${hours % 24}h remaining`;\n    } else if (hours > 0) {\n      return `${hours}h ${minutes}m remaining`;\n    } else {\n      return `${minutes}m remaining`;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"voter-portal\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"portal-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83D\\uDDF3\\uFE0F Voter Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Connected: \", account.slice(0, 6), \"...\", account.slice(-4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDisconnect,\n            className: \"btn btn-disconnect\",\n            children: \"Disconnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"portal-nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-btn ${activeTab === 'active-sessions' ? 'active' : ''}`,\n          onClick: () => setActiveTab('active-sessions'),\n          children: \"\\uD83D\\uDD34 Active Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-btn ${activeTab === 'vote' ? 'active' : ''}`,\n          onClick: () => setActiveTab('vote'),\n          disabled: !selectedSession,\n          children: \"\\uD83D\\uDDF3\\uFE0F Vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-btn ${activeTab === 'completed' ? 'active' : ''}`,\n          onClick: () => setActiveTab('completed'),\n          children: \"\\uD83D\\uDCCA Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"portal-content\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u26A0\\uFE0F \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(''),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), activeTab === 'active-sessions' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"active-sessions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDD34 Active Voting Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), activeSessions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-icon\",\n            children: \"\\uD83D\\uDDF3\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No Active Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"There are currently no active voting sessions. Check back later!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sessions-grid\",\n          children: activeSessions.map(session => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `session-card ${session.hasVoted ? 'voted' : 'not-voted'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: session.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"session-badges\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge active\",\n                  children: \"\\uD83D\\uDFE2 Live\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 25\n                }, this), session.hasVoted && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"voted-badge\",\n                  children: \"\\u2705 Voted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"session-description\",\n              children: session.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-icon\",\n                  children: \"\\uD83D\\uDCCA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [session.totalVotes, \" votes cast\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-icon\",\n                  children: \"\\u23F0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatTimeRemaining(session.endTime)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-timing\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"Ends: \", formatDateTime(session.endTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-actions\",\n              children: session.hasVoted ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => selectSession(session),\n                className: \"btn btn-secondary\",\n                children: \"\\uD83D\\uDC41\\uFE0F View Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => selectSession(session),\n                className: \"btn btn-primary\",\n                children: \"\\uD83D\\uDDF3\\uFE0F Vote Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 21\n            }, this)]\n          }, session.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), activeTab === 'vote' && selectedSession && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vote-session\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vote-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('active-sessions'),\n            className: \"btn btn-back\",\n            children: \"\\u2190 Back to Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: selectedSession.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: selectedSession.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDCCA \", selectedSession.totalVotes, \" votes cast\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u23F0 \", formatTimeRemaining(selectedSession.endTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), selectedSession.hasVoted || userVotes[selectedSession.id] ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"already-voted\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"voted-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"voted-icon\",\n              children: \"\\u2705\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Thank you for voting!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You have already cast your vote in this session.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"live-results\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCCA Live Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"candidates-results\",\n              children: sessionCandidates.sort((a, b) => parseInt(b.voteCount) - parseInt(a.voteCount)).map((candidate, index) => {\n                const isUserVote = userVotes[selectedSession.id] === candidate.id;\n                const totalVotes = parseInt(selectedSession.totalVotes);\n                const candidateVotes = parseInt(candidate.voteCount);\n                const percentage = totalVotes > 0 ? Math.round(candidateVotes / totalVotes * 100) : 0;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `candidate-result ${isUserVote ? 'user-vote' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"candidate-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"position\",\n                      children: index === 0 ? 'ðŸ¥‡' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : `${index + 1}.`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"candidate-name\",\n                      children: [candidate.name, isUserVote && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"your-vote\",\n                        children: \"\\uD83D\\uDC48 Your vote\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 374,\n                        columnNumber: 48\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"vote-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"vote-count\",\n                      children: [candidate.voteCount, \" votes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"vote-percentage\",\n                      children: [percentage, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"vote-bar\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `vote-fill ${isUserVote ? 'user-vote-fill' : ''}`,\n                      style: {\n                        width: `${percentage}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 29\n                  }, this)]\n                }, candidate.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 27\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"voting-interface\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"voting-instructions\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDDF3\\uFE0F Cast Your Vote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Select your preferred candidate below. You can only vote once in this session.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"candidates-voting\",\n            children: sessionCandidates.map(candidate => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"candidate-vote-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"candidate-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: candidate.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"candidate-stats\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Current votes: \", candidate.voteCount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => vote(candidate.id),\n                disabled: loading,\n                className: \"btn btn-vote\",\n                children: loading ? 'Voting...' : `Vote for ${candidate.name}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this)]\n            }, candidate.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"voting-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"voting-notice\",\n              children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Important:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 24\n              }, this), \" Your vote is permanent and cannot be changed once submitted.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this), activeTab === 'completed' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"completed-sessions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCA Recent Election Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-subtitle\",\n          children: \"View results from the last 10 completed voting sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), completedSessions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-icon\",\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No Completed Sessions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No voting sessions have been completed yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-list\",\n          children: completedSessions.map(session => {\n            const userVoted = userVotes[session.id] || session.hasVoted;\n            const userVoteCandidate = userVoted ? session.candidates.find(c => c.id === userVotes[session.id]) : null;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"result-title\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: session.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"result-badges\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"status-badge completed\",\n                      children: \"\\u2705 Completed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 29\n                    }, this), userVoted && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"participated-badge\",\n                      children: \"\\uD83D\\uDDF3\\uFE0F You participated\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"result-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: session.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"result-stats\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\uD83D\\uDCCA \", session.totalVotes, \" total votes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\uD83D\\uDD52 \", formatDateTime(session.endTime)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\uD83C\\uDFC6 Winner: \", session.winner.name, \" (\", session.winner.votes, \" votes)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 465,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 23\n              }, this), userVoted && userVoteCandidate && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-vote-info\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"vote-icon\",\n                    children: \"\\uD83D\\uDC64\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 29\n                  }, this), \"You voted for: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: userVoteCandidate.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 44\n                  }, this), \"(\", userVoteCandidate.voteCount, \" votes total)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detailed-results\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Detailed Results\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"candidates-results\",\n                  children: session.candidates.sort((a, b) => parseInt(b.voteCount) - parseInt(a.voteCount)).map((candidate, index) => {\n                    const isUserVote = userVotes[session.id] === candidate.id;\n                    const totalVotes = parseInt(session.totalVotes);\n                    const candidateVotes = parseInt(candidate.voteCount);\n                    const percentage = totalVotes > 0 ? Math.round(candidateVotes / totalVotes * 100) : 0;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `candidate-result ${isUserVote ? 'user-vote' : ''} ${index === 0 ? 'winner' : ''}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"candidate-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"position\",\n                          children: index === 0 ? 'ðŸ†' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : `${index + 1}.`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 497,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"candidate-name\",\n                          children: [candidate.name, isUserVote && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"your-vote\",\n                            children: \"\\uD83D\\uDC48 Your vote\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 502,\n                            columnNumber: 54\n                          }, this), index === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"winner-label\",\n                            children: \"Winner\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 503,\n                            columnNumber: 55\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 500,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 496,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"vote-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"vote-count\",\n                          children: [candidate.voteCount, \" votes\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 507,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"vote-percentage\",\n                          children: [percentage, \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 508,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"vote-bar\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `vote-fill ${isUserVote ? 'user-vote-fill' : ''} ${index === 0 ? 'winner-fill' : ''}`,\n                          style: {\n                            width: `${percentage}%`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 511,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 510,\n                        columnNumber: 35\n                      }, this)]\n                    }, candidate.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 33\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 23\n              }, this)]\n            }, session.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Processing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n};\n_s(VoterPortal, \"jmpszbnOYfqbOIu/nOpKn9oqvrY=\");\n_c = VoterPortal;\nexport default VoterPortal;\nvar _c;\n$RefreshReg$(_c, \"VoterPortal\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","VoterPortal","contract","account","onDisconnect","_s","activeTab","setActiveTab","activeSessions","setActiveSessions","completedSessions","setCompletedSessions","selectedSession","setSelectedSession","sessionCandidates","setSessionCandidates","loading","setLoading","error","setError","userVotes","setUserVotes","loadData","setupEventListeners","Promise","all","loadActiveSessions","loadCompletedSessions","loadUserVotes","message","activeSessionsData","getActiveSessions","sessionsWithDetails","map","session","hasVoted","hasUserVoted","id","totalVotes","toString","startTime","Date","Number","endTime","console","completedSessionsData","getCompletedSessions","winnerName","winnerVotes","getSessionWinner","candidates","getSessionCandidates","winner","name","votes","filter","c","isActive","voteCount","allSessions","candidateId","getUserVoteInSession","on","sessionId","voter","toLowerCase","prev","selectSession","vote","transaction","wait","parseInt","candidate","alert","formatDateTime","date","toLocaleString","year","month","day","hour","minute","formatTimeRemaining","now","diff","hours","Math","floor","minutes","days","className","children","fileName","_jsxFileName","lineNumber","columnNumber","slice","onClick","disabled","length","description","sort","a","b","index","isUserVote","candidateVotes","percentage","round","style","width","userVoted","userVoteCandidate","find","_c","$RefreshReg$"],"sources":["/Users/subhashpatel/vote/voting-system-1/src/components/VoterPortal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst VoterPortal = ({ contract, account, onDisconnect }) => {\n  const [activeTab, setActiveTab] = useState('active-sessions');\n  const [activeSessions, setActiveSessions] = useState([]);\n  const [completedSessions, setCompletedSessions] = useState([]);\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionCandidates, setSessionCandidates] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [userVotes, setUserVotes] = useState({});\n\n  useEffect(() => {\n    loadData();\n    setupEventListeners();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      await Promise.all([\n        loadActiveSessions(),\n        loadCompletedSessions(),\n        loadUserVotes()\n      ]);\n    } catch (error) {\n      setError(`Error loading data: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadActiveSessions = async () => {\n    try {\n      const activeSessionsData = await contract.getActiveSessions();\n      const sessionsWithDetails = await Promise.all(\n        activeSessionsData.map(async (session) => {\n          const hasVoted = await contract.hasUserVoted(session.id, account);\n          const totalVotes = session.totalVotes.toString();\n          \n          return {\n            ...session,\n            id: session.id.toString(),\n            startTime: new Date(Number(session.startTime) * 1000),\n            endTime: new Date(Number(session.endTime) * 1000),\n            totalVotes,\n            hasVoted\n          };\n        })\n      );\n      \n      setActiveSessions(sessionsWithDetails);\n    } catch (error) {\n      console.error('Error loading active sessions:', error);\n    }\n  };\n\n  const loadCompletedSessions = async () => {\n    try {\n      const completedSessionsData = await contract.getCompletedSessions(10);\n      const sessionsWithDetails = await Promise.all(\n        completedSessionsData.map(async (session) => {\n          const [winnerName, winnerVotes] = await contract.getSessionWinner(session.id);\n          const hasVoted = await contract.hasUserVoted(session.id, account);\n          const candidates = await contract.getSessionCandidates(session.id);\n          \n          return {\n            ...session,\n            id: session.id.toString(),\n            startTime: new Date(Number(session.startTime) * 1000),\n            endTime: new Date(Number(session.endTime) * 1000),\n            totalVotes: session.totalVotes.toString(),\n            winner: { name: winnerName, votes: winnerVotes.toString() },\n            hasVoted,\n            candidates: candidates.filter(c => c.isActive).map(c => ({\n              ...c,\n              id: c.id.toString(),\n              voteCount: c.voteCount.toString()\n            }))\n          };\n        })\n      );\n      \n      setCompletedSessions(sessionsWithDetails);\n    } catch (error) {\n      console.error('Error loading completed sessions:', error);\n    }\n  };\n\n  const loadUserVotes = async () => {\n    try {\n      const votes = {};\n      const allSessions = [...activeSessions, ...completedSessions];\n      \n      for (const session of allSessions) {\n        const hasVoted = await contract.hasUserVoted(session.id, account);\n        if (hasVoted) {\n          const candidateId = await contract.getUserVoteInSession(session.id, account);\n          votes[session.id] = candidateId.toString();\n        }\n      }\n      \n      setUserVotes(votes);\n    } catch (error) {\n      console.error('Error loading user votes:', error);\n    }\n  };\n\n  const setupEventListeners = () => {\n    contract.on(\"VoteCast\", (sessionId, candidateId, voter) => {\n      if (voter.toLowerCase() === account.toLowerCase()) {\n        setUserVotes(prev => ({\n          ...prev,\n          [sessionId.toString()]: candidateId.toString()\n        }));\n      }\n      loadData(); // Refresh all data when any vote is cast\n    });\n\n    contract.on(\"SessionStarted\", () => {\n      loadActiveSessions();\n    });\n\n    contract.on(\"SessionStopped\", () => {\n      loadData();\n    });\n  };\n\n  const selectSession = async (session) => {\n    try {\n      setLoading(true);\n      const candidates = await contract.getSessionCandidates(session.id);\n      setSessionCandidates(candidates.filter(c => c.isActive).map(c => ({\n        ...c,\n        id: c.id.toString(),\n        voteCount: c.voteCount.toString()\n      })));\n      setSelectedSession(session);\n      setActiveTab('vote');\n    } catch (error) {\n      setError(`Error loading session details: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const vote = async (candidateId) => {\n    try {\n      setLoading(true);\n      const transaction = await contract.vote(selectedSession.id, candidateId);\n      await transaction.wait();\n      \n      // Update local state immediately\n      setUserVotes(prev => ({\n        ...prev,\n        [selectedSession.id]: candidateId\n      }));\n      \n      // Update session to show user has voted\n      setSelectedSession(prev => ({\n        ...prev,\n        hasVoted: true,\n        totalVotes: (parseInt(prev.totalVotes) + 1).toString()\n      }));\n      \n      // Update candidates vote count locally for immediate feedback\n      setSessionCandidates(prev => \n        prev.map(candidate => \n          candidate.id === candidateId\n            ? { ...candidate, voteCount: (parseInt(candidate.voteCount) + 1).toString() }\n            : candidate\n        )\n      );\n      \n      alert('âœ… Vote submitted successfully!');\n      \n    } catch (error) {\n      setError(`Error voting: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDateTime = (date) => {\n    return date.toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const formatTimeRemaining = (endTime) => {\n    const now = new Date();\n    const diff = endTime - now;\n    \n    if (diff <= 0) return 'Ended';\n    \n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `${days}d ${hours % 24}h remaining`;\n    } else if (hours > 0) {\n      return `${hours}h ${minutes}m remaining`;\n    } else {\n      return `${minutes}m remaining`;\n    }\n  };\n\n  return (\n    <div className=\"voter-portal\">\n      <header className=\"portal-header\">\n        <div className=\"header-content\">\n          <h1>ðŸ—³ï¸ Voter Portal</h1>\n          <div className=\"header-info\">\n            <span>Connected: {account.slice(0, 6)}...{account.slice(-4)}</span>\n            <button onClick={onDisconnect} className=\"btn btn-disconnect\">\n              Disconnect\n            </button>\n          </div>\n        </div>\n        \n        <nav className=\"portal-nav\">\n          <button \n            className={`nav-btn ${activeTab === 'active-sessions' ? 'active' : ''}`}\n            onClick={() => setActiveTab('active-sessions')}\n          >\n            ðŸ”´ Active Sessions\n          </button>\n          <button \n            className={`nav-btn ${activeTab === 'vote' ? 'active' : ''}`}\n            onClick={() => setActiveTab('vote')}\n            disabled={!selectedSession}\n          >\n            ðŸ—³ï¸ Vote\n          </button>\n          <button \n            className={`nav-btn ${activeTab === 'completed' ? 'active' : ''}`}\n            onClick={() => setActiveTab('completed')}\n          >\n            ðŸ“Š Results\n          </button>\n        </nav>\n      </header>\n\n      <main className=\"portal-content\">\n        {error && (\n          <div className=\"error-banner\">\n            <span>âš ï¸ {error}</span>\n            <button onClick={() => setError('')}>âœ•</button>\n          </div>\n        )}\n\n        {activeTab === 'active-sessions' && (\n          <div className=\"active-sessions\">\n            <h2>ðŸ”´ Active Voting Sessions</h2>\n            \n            {activeSessions.length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">ðŸ—³ï¸</div>\n                <h3>No Active Sessions</h3>\n                <p>There are currently no active voting sessions. Check back later!</p>\n              </div>\n            ) : (\n              <div className=\"sessions-grid\">\n                {activeSessions.map(session => (\n                  <div \n                    key={session.id} \n                    className={`session-card ${session.hasVoted ? 'voted' : 'not-voted'}`}\n                  >\n                    <div className=\"session-header\">\n                      <h3>{session.name}</h3>\n                      <div className=\"session-badges\">\n                        <span className=\"status-badge active\">ðŸŸ¢ Live</span>\n                        {session.hasVoted && (\n                          <span className=\"voted-badge\">âœ… Voted</span>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <p className=\"session-description\">{session.description}</p>\n                    \n                    <div className=\"session-stats\">\n                      <div className=\"stat\">\n                        <span className=\"stat-icon\">ðŸ“Š</span>\n                        <span>{session.totalVotes} votes cast</span>\n                      </div>\n                      <div className=\"stat\">\n                        <span className=\"stat-icon\">â°</span>\n                        <span>{formatTimeRemaining(session.endTime)}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"session-timing\">\n                      <small>Ends: {formatDateTime(session.endTime)}</small>\n                    </div>\n                    \n                    <div className=\"session-actions\">\n                      {session.hasVoted ? (\n                        <button \n                          onClick={() => selectSession(session)}\n                          className=\"btn btn-secondary\"\n                        >\n                          ðŸ‘ï¸ View Details\n                        </button>\n                      ) : (\n                        <button \n                          onClick={() => selectSession(session)}\n                          className=\"btn btn-primary\"\n                        >\n                          ðŸ—³ï¸ Vote Now\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'vote' && selectedSession && (\n          <div className=\"vote-session\">\n            <div className=\"vote-header\">\n              <button \n                onClick={() => setActiveTab('active-sessions')}\n                className=\"btn btn-back\"\n              >\n                â† Back to Sessions\n              </button>\n              <div className=\"session-info\">\n                <h2>{selectedSession.name}</h2>\n                <p>{selectedSession.description}</p>\n                <div className=\"session-meta\">\n                  <span>ðŸ“Š {selectedSession.totalVotes} votes cast</span>\n                  <span>â° {formatTimeRemaining(selectedSession.endTime)}</span>\n                </div>\n              </div>\n            </div>\n\n            {selectedSession.hasVoted || userVotes[selectedSession.id] ? (\n              <div className=\"already-voted\">\n                <div className=\"voted-message\">\n                  <span className=\"voted-icon\">âœ…</span>\n                  <h3>Thank you for voting!</h3>\n                  <p>You have already cast your vote in this session.</p>\n                </div>\n                \n                <div className=\"live-results\">\n                  <h3>ðŸ“Š Live Results</h3>\n                  <div className=\"candidates-results\">\n                    {sessionCandidates\n                      .sort((a, b) => parseInt(b.voteCount) - parseInt(a.voteCount))\n                      .map((candidate, index) => {\n                        const isUserVote = userVotes[selectedSession.id] === candidate.id;\n                        const totalVotes = parseInt(selectedSession.totalVotes);\n                        const candidateVotes = parseInt(candidate.voteCount);\n                        const percentage = totalVotes > 0 ? Math.round((candidateVotes / totalVotes) * 100) : 0;\n                        \n                        return (\n                          <div \n                            key={candidate.id} \n                            className={`candidate-result ${isUserVote ? 'user-vote' : ''}`}\n                          >\n                            <div className=\"candidate-info\">\n                              <span className=\"position\">\n                                {index === 0 ? 'ðŸ¥‡' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : `${index + 1}.`}\n                              </span>\n                              <span className=\"candidate-name\">\n                                {candidate.name}\n                                {isUserVote && <span className=\"your-vote\">ðŸ‘ˆ Your vote</span>}\n                              </span>\n                            </div>\n                            <div className=\"vote-info\">\n                              <span className=\"vote-count\">{candidate.voteCount} votes</span>\n                              <span className=\"vote-percentage\">{percentage}%</span>\n                            </div>\n                            <div className=\"vote-bar\">\n                              <div \n                                className={`vote-fill ${isUserVote ? 'user-vote-fill' : ''}`}\n                                style={{ width: `${percentage}%` }}\n                              />\n                            </div>\n                          </div>\n                        );\n                      })}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"voting-interface\">\n                <div className=\"voting-instructions\">\n                  <h3>ðŸ—³ï¸ Cast Your Vote</h3>\n                  <p>Select your preferred candidate below. You can only vote once in this session.</p>\n                </div>\n                \n                <div className=\"candidates-voting\">\n                  {sessionCandidates.map(candidate => (\n                    <div key={candidate.id} className=\"candidate-vote-card\">\n                      <div className=\"candidate-info\">\n                        <h4>{candidate.name}</h4>\n                        <div className=\"candidate-stats\">\n                          <span>Current votes: {candidate.voteCount}</span>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => vote(candidate.id)}\n                        disabled={loading}\n                        className=\"btn btn-vote\"\n                      >\n                        {loading ? 'Voting...' : `Vote for ${candidate.name}`}\n                      </button>\n                    </div>\n                  ))}\n                </div>\n                \n                <div className=\"voting-footer\">\n                  <p className=\"voting-notice\">\n                    âš ï¸ <strong>Important:</strong> Your vote is permanent and cannot be changed once submitted.\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'completed' && (\n          <div className=\"completed-sessions\">\n            <h2>ðŸ“Š Recent Election Results</h2>\n            <p className=\"section-subtitle\">View results from the last 10 completed voting sessions</p>\n            \n            {completedSessions.length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">ðŸ“Š</div>\n                <h3>No Completed Sessions</h3>\n                <p>No voting sessions have been completed yet.</p>\n              </div>\n            ) : (\n              <div className=\"results-list\">\n                {completedSessions.map(session => {\n                  const userVoted = userVotes[session.id] || session.hasVoted;\n                  const userVoteCandidate = userVoted ? \n                    session.candidates.find(c => c.id === userVotes[session.id]) : null;\n                    \n                  return (\n                    <div key={session.id} className=\"result-card\">\n                      <div className=\"result-header\">\n                        <div className=\"result-title\">\n                          <h3>{session.name}</h3>\n                          <div className=\"result-badges\">\n                            <span className=\"status-badge completed\">âœ… Completed</span>\n                            {userVoted && (\n                              <span className=\"participated-badge\">ðŸ—³ï¸ You participated</span>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"result-meta\">\n                          <p>{session.description}</p>\n                          <div className=\"result-stats\">\n                            <span>ðŸ“Š {session.totalVotes} total votes</span>\n                            <span>ðŸ•’ {formatDateTime(session.endTime)}</span>\n                            <span>ðŸ† Winner: {session.winner.name} ({session.winner.votes} votes)</span>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {userVoted && userVoteCandidate && (\n                        <div className=\"user-vote-info\">\n                          <p>\n                            <span className=\"vote-icon\">ðŸ‘¤</span>\n                            You voted for: <strong>{userVoteCandidate.name}</strong> \n                            ({userVoteCandidate.voteCount} votes total)\n                          </p>\n                        </div>\n                      )}\n                      \n                      <div className=\"detailed-results\">\n                        <h4>Detailed Results</h4>\n                        <div className=\"candidates-results\">\n                          {session.candidates\n                            .sort((a, b) => parseInt(b.voteCount) - parseInt(a.voteCount))\n                            .map((candidate, index) => {\n                              const isUserVote = userVotes[session.id] === candidate.id;\n                              const totalVotes = parseInt(session.totalVotes);\n                              const candidateVotes = parseInt(candidate.voteCount);\n                              const percentage = totalVotes > 0 ? Math.round((candidateVotes / totalVotes) * 100) : 0;\n                              \n                              return (\n                                <div \n                                  key={candidate.id} \n                                  className={`candidate-result ${isUserVote ? 'user-vote' : ''} ${index === 0 ? 'winner' : ''}`}\n                                >\n                                  <div className=\"candidate-info\">\n                                    <span className=\"position\">\n                                      {index === 0 ? 'ðŸ†' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : `${index + 1}.`}\n                                    </span>\n                                    <span className=\"candidate-name\">\n                                      {candidate.name}\n                                      {isUserVote && <span className=\"your-vote\">ðŸ‘ˆ Your vote</span>}\n                                      {index === 0 && <span className=\"winner-label\">Winner</span>}\n                                    </span>\n                                  </div>\n                                  <div className=\"vote-info\">\n                                    <span className=\"vote-count\">{candidate.voteCount} votes</span>\n                                    <span className=\"vote-percentage\">{percentage}%</span>\n                                  </div>\n                                  <div className=\"vote-bar\">\n                                    <div \n                                      className={`vote-fill ${isUserVote ? 'user-vote-fill' : ''} ${index === 0 ? 'winner-fill' : ''}`}\n                                      style={{ width: `${percentage}%` }}\n                                    />\n                                  </div>\n                                </div>\n                              );\n                            })}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        )}\n      </main>\n      \n      {loading && (\n        <div className=\"loading-overlay\">\n          <div className=\"loading-spinner\"></div>\n          <p>Processing...</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VoterPortal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}